<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>SEP — White Tee</title>
<meta name="description" content="SEP — clean, everyday white T-shirt. Hand-pressed in Copenhagen. 180 DKK. Free CPH delivery on drop days. Pay with MobilePay 51 34 31 33." />
<style>
  :root{--bg:#fff;--fg:#111;--muted:#6b7280;--line:#e5e7eb;--card:#fafafa;--btn:#000;--btnText:#fff}
  html[data-theme="dark"]{--bg:#0f1115;--fg:#e5e7eb;--muted:#9aa5b1;--line:#1f2937;--card:#141821;--btn:#e5e7eb;--btnText:#0f1115}
  *{box-sizing:border-box}
  body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;color:var(--fg);background:var(--bg);line-height:1.55}
  a{color:inherit;text-decoration:none}
  img{max-width:100%;display:block;height:auto}
  .wrap{max-width:1120px;margin:0 auto;padding:0 18px}
  .muted{color:var(--muted)}
  .btn{display:inline-block;padding:12px 16px;border-radius:10px;font-weight:600;background:var(--btn);color:var(--btnText);border:0}
  .btn.secondary{background:transparent;color:var(--fg);border:1px solid var(--fg)}
  .btn.block{display:block;width:100%;text-align:center}
  .row{display:flex;gap:10px;flex-wrap:wrap}
  .chip{border:1px solid var(--line);padding:8px 12px;border-radius:10px;user-select:none;cursor:pointer}
  .chip.active{border-color:#000}
  .card{border:1px solid var(--line);border-radius:14px;background:var(--card);overflow:hidden}
  .card-body{padding:16px}
  .grid{display:grid;gap:16px}
  .grid.cols-2{grid-template-columns:1fr 1fr}
  @media (max-width:760px){.grid.cols-2{grid-template-columns:1fr}}
  header.site{position:sticky;top:0;z-index:40;border-bottom:1px solid var(--line);background:var(--bg)}
  .nav{display:flex;align-items:center;gap:12px;padding:14px 0}
  .brand{display:flex;align-items:center;gap:10px;font-weight:700;letter-spacing:.4px}
  .nav-spacer{flex:1}
  .nav a{padding:8px 10px;border-radius:8px}
  .nav a.active{background:var(--card)}
  .toggle{border:1px solid var(--line);padding:8px 10px;border-radius:10px;cursor:pointer}
  .cart-pill{display:inline-flex;align-items:center;gap:8px;border:1px solid var(--line);padding:8px 10px;border-radius:10px}
  .hero{text-align:center;padding:42px 0 20px}
  .hero h1{font-size:40px;line-height:1.05;margin:8px 0}
  .price{font-size:22px;font-weight:700;margin:4px 0 10px}
  table{width:100%;border-collapse:collapse}
  th,td{padding:10px 8px;border-bottom:1px solid var(--line);text-align:left}
  footer{border-top:1px solid var(--line);margin-top:36px}
  .footer-inner{display:flex;gap:20px;padding:20px 0 40px;color:var(--muted);font-size:14px;flex-wrap:wrap;justify-content:space-between}
  #toast{position:fixed;left:50%;bottom:20px;transform:translateX(-50%);background:rgba(0,0,0,.9);color:#fff;padding:10px 14px;border-radius:10px;opacity:0;pointer-events:none;transition:opacity .4s;z-index:9999}
  #toast.show{opacity:1}
</style>
</head>
<body>
<header class="site">
  <div class="wrap nav">
    <a href="#home" class="brand">SEP</a>
    <div class="nav-spacer"></div>
    <a href="#home" class="active">Home</a>
    <a href="#shop">Shop</a>
    <a href="#cart" class="cart-pill">Cart <strong id="cartCount">0</strong></a>
    <a target="_blank" href="https://instagram.com/se.proairesis" aria-label="Instagram">@se.proairesis</a>
    <a target="_blank" href="https://www.tiktok.com/@se.proairesis" aria-label="TikTok">@se.proairesis</a>
    <button id="themeToggle" class="toggle" type="button">Dark</button>
  </div>
</header>

<section id="home" class="wrap hero">
  <h1>Clean white tee for everyday life</h1>
  <p class="muted">Hand-pressed in Copenhagen • Free CPH delivery on drop days • MobilePay <strong>51 34 31 33</strong></p>
  <div style="display:flex;gap:12px;justify-content:center;margin-top:16px">
    <a class="btn" href="#shop">Shop now</a>
    <a class="btn secondary" href="#cart">View cart</a>
  </div>
</section>

<!-- SHOP (single product: white tee, 180 DKK) -->
<section id="shop" class="wrap" style="padding:24px 0">
  <div class="grid cols-2">
    <div class="card">
      <!-- Your T-shirt image -->
      <img id="pImg" src="https://i.postimg.cc/W3Qb6ygg/SEP-T-shirt-Portrait.png" alt="SEP White Tee on body">
    </div>
    <div>
      <h2 style="margin:0 0 6px">SEP White Tee</h2>
      <div class="price">180 DKK</div>
      <p class="muted">Ultra-smooth cotton. Clean, regular fit. Small batch, hand-pressed in Copenhagen.</p>

      <label>Colour</label>
      <div class="row"><div class="chip active">White</div></div>

      <label>Size</label>
      <div id="pSizes" class="row">
        <div class="chip" data-val="XS">XS</div>
        <div class="chip active" data-val="S">S</div>
        <div class="chip" data-val="M">M</div>
        <div class="chip" data-val="L">L</div>
        <div class="chip" data-val="XL">XL</div>
      </div>

      <label>Qty</label>
      <input id="pQty" type="number" min="1" value="1" style="max-width:120px">

      <div class="row" style="margin-top:16px">
        <button id="addBtn" class="btn" type="button">Add to cart</button>
        <a class="btn secondary" href="#cart">Go to cart</a>
      </div>

      <p class="muted" style="margin-top:10px">
        Pay with MobilePay to <strong>51 34 31 33</strong>. Free delivery in CPH on drop days.
      </p>
    </div>
  </div>
</section>

<!-- CART -->
<section id="cart" class="wrap" style="padding:24px 0">
  <h2 style="margin:0 0 8px">Your Cart</h2>
  <div class="card">
    <div class="card-body">
      <div style="overflow:auto">
        <table>
          <thead><tr><th>Item</th><th>Price</th><th>Qty</th><th>Subtotal</th><th></th></tr></thead>
          <tbody id="cartBody"></tbody>
        </table>
      </div>
      <div class="row" style="justify-content:space-between;margin-top:10px">
        <button class="btn secondary" onclick="clearCart()">Clear cart</button>
        <div style="text-align:right">
          <div class="muted">Total</div>
          <div id="total" style="font-weight:700;font-size:22px">DKK 0,00</div>
          <div class="row" style="justify-content:flex-end">
            <!-- New MobilePay deep link button -->
            <a id="mobilepayBtn" class="btn" href="#" rel="noopener">Open MobilePay</a>
            <button id="copyOrder" class="btn secondary" type="button">Copy MobilePay message</button>
          </div>
          <p class="muted" style="font-size:13px;margin:6px 0 0">
            If the button doesn’t open MobilePay, paste the copied note and pay to <strong>51 34 31 33</strong>, then DM <a target="_blank" href="https://instagram.com/se.proairesis">@se.proairesis</a> your name & address.
          </p>
        </div>
      </div>
    </div>
  </div>
</section>

<footer>
  <div class="wrap footer-inner">
    <div>©️ <span id="year"></span> SEP — Se Proairesis — “Your choice” • Copenhagen, DK</div>
    <div class="row" style="gap:12px">
      <a target="_blank" href="https://instagram.com/se.proairesis">Instagram @se.proairesis</a>
      <span class="muted">•</span>
      <a target="_blank" href="https://www.tiktok.com/@se.proairesis">TikTok @se.proairesis</a>
      <span class="muted">• White Tee • 180 DKK • MobilePay 51 34 31 33</span>
    </div>
  </div>
</footer>

<div id="toast"></div>

<script>
/* ===== Theme ===== */
function applyTheme(t){document.documentElement.setAttribute('data-theme',t==='dark'?'dark':'light');localStorage.setItem('sep_theme',t)}
function currentTheme(){return localStorage.getItem('sep_theme')||'light'}
function toggleTheme(){applyTheme(currentTheme()==='dark'?'light':'dark');document.getElementById('themeToggle').textContent=currentTheme()==='dark'?'Light':'Dark'}

/* ===== Data (single product) ===== */
const PRODUCT = { id:'sep-white-tee', title:'SEP White Tee', priceDKK:180, sizes:['XS','S','M','L','XL'], color:'White' };

/* ===== Helpers ===== */
const $$ = s=>document.querySelector(s);
const fmt = n=>new Intl.NumberFormat('da-DK',{style:'currency',currency:'DKK'}).format(n);
function toast(msg){const t=$$('#toast');t.textContent=msg;t.classList.add('show');setTimeout(()=>t.classList.remove('show'),1200)}

/* ===== Cart (localStorage) ===== */
function getCart(){try{return JSON.parse(localStorage.getItem('sep_cart')||'[]')}catch(e){return[]}}
function saveCart(items){localStorage.setItem('sep_cart',JSON.stringify(items));updateCartPill()}
function updateCartPill(){$$('#cartCount').textContent=getCart().reduce((a,c)=>a+c.qty,0)}
function addToCart(size,qty){const items=getCart();const i=items.findIndex(it=>it.size===size);if(i>=0){items[i].qty+=qty}else{items.push({id:PRODUCT.id,size,qty})}saveCart(items);toast('Added to cart')}
function updateQty(size,qty){const items=getCart();const it=items.find(i=>i.size===size);if(it){it.qty=Math.max(1,Number(qty)||1);saveCart(items);renderCart()}}
function removeItem(size){saveCart(getCart().filter(i=>i.size!==size));renderCart()}
function clearCart(){saveCart([]);renderCart()}

function renderCart(){
  const items=getCart();const tbody=$$('#cartBody');const totalEl=$$('#total');
  if(!items.length){tbody.innerHTML=`<tr><td colspan="5"><p class="muted">Your cart is empty.</p></td></tr>`;totalEl.textContent=fmt(0);updateMobilePayLink(0);return}
  let total=0;
  tbody.innerHTML=items.map(it=>{
    const line=PRODUCT.priceDKK*it.qty;total+=line;
    return `<tr>
      <td>${PRODUCT.title}<br><span class="muted">${PRODUCT.color} • ${it.size}</span></td>
      <td>${fmt(PRODUCT.priceDKK)}</td>
      <td><input type="number" min="1" value="${it.qty}" style="width:70px" onchange="updateQty('${it.size}', this.value)"></td>
      <td>${fmt(line)}</td>
      <td><button class="btn secondary" onclick="removeItem('${it.size}')">Remove</button></td>
    </tr>`;
  }).join('');
  totalEl.textContent=fmt(total);
  updateMobilePayLink(total);
}

/* ===== Copy MobilePay message ===== */
const MOBILEPAY = "51 34 31 33";
function buildMobilePayNote(){
  const items=getCart();if(!items.length) return "Order: (empty)";
  const lines=items.map(it=>`• ${PRODUCT.title} — ${PRODUCT.color} / ${it.size} x${it.qty}`);
  const total=items.reduce((a,it)=>a+(PRODUCT.priceDKK*it.qty),0);
  return `Order for SEP:\n${lines.join('\n')}\nTotal: ${fmt(total)}\nMobilePay to: ${MOBILEPAY}\nName:\nAddress (CPH):`;
}

/* ===== MobilePay deep link (best-effort) =====
   Tries to open the MobilePay app with number, amount and comment.
   On desktop or unsupported browsers it may do nothing — user can use the copy button instead.
*/
function updateMobilePayLink(totalDKK){
  const btn = $$('#mobilepayBtn');
  if (!btn) return;
  const comment = encodeURIComponent(buildMobilePayNote().replace(/\n/g,' ')).slice(0,180); // keep it short
  const amount = Number(totalDKK||0).toFixed(2);
  // Best-effort deep link format used by many apps:
  const mpUrl = `mobilepay://send?phone=${MOBILEPAY.replace(/\s+/g,'')}&amount=${amount}&comment=${comment}`;
  btn.setAttribute('href', mpUrl);
}

document.addEventListener('DOMContentLoaded',()=>{
  // Theme
  applyTheme(currentTheme());
  $$('#themeToggle').textContent=currentTheme()==='dark'?'Light':'Dark';
  $$('#themeToggle').addEventListener('click',toggleTheme);

  // Year
  const y = document.createElement('span'); y.id='year';
  const footerYearTarget = document.querySelector('footer .footer-inner div');
  if (footerYearTarget) {
    footerYearTarget.innerHTML = `©️ ${new Date().getFullYear()} SEP — Se Proairesis — “Your choice” • Copenhagen, DK`;
  }

  // Sizes UI
  $$('#pSizes').addEventListener('click',e=>{
    const c=e.target.closest('.chip');if(!c) return;
    [...$$('#pSizes').children].forEach(x=>x.classList.remove('active'));c.classList.add('active');
  });

  // Add to cart
  $$('#addBtn').addEventListener('click',()=>{
    const size=$$('#pSizes .chip.active')?.dataset.val||'M';
    const qty=Math.max(1,Number($$('#pQty').value)||1);
    addToCart(size,qty);
  });

  // Cart + buttons
  renderCart();

  $$('#copyOrder').addEventListener('click',()=>{
    const text=buildMobilePayNote();
    navigator.clipboard.writeText(text).then(()=>toast('Copied MobilePay message'));
  });
});
</script>
</body>
</html>